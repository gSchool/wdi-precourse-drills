<!DOCTYPE html>
<html>
	<head>
	   <title>Hangman!(using functions)</title>
	</head>

	<body>

		<h1>Hangman!(using functions)</h1>
		<script>
      var word = pickWord();
      var answerArray = setupAnswerArray(word);
      var remainingLetters = word.length;

      while (remainingLetters > 0) {
        showPlayerProgress(answerArray);
        var guess = getGuess();
        if (guess === null) {
        break;
        } else if (guess.length !== 1) {
          alert("Please enter a single letter.");
          } else {
            var correctGuesses = updateGameState(guess, word, answerArray);
            remainingLetters -= correctGuesses;
          }
      }
      showAnswerAndCongratulatePlayer(answerArray);

      function pickWord(){
       // Create an array of words
  			var words = ["javascript", "monkey", "amazing", "pancake"];
  			// Return a random word
  			return (words[Math.floor(Math.random() * words.length)]);
      };

      function setupAnswerArray(word) {
        var answer = [];
  			for (var i = 0; i < word.length; i++) {
  				answer[i] = "_";
  			}
        // Return the answer array
        return answer;
      };

      function showPlayerProgress(answerArray) {
        // Use alert to show the player their progress
        alert(answerArray.join(" "));
      };

      function getGuess() {
        // Use prompt to get a guess
        return prompt("Guess a letter, or click Cancel to stop playing.");
      };

      function updateGameState(guess, word, answerArray) {
        // Update answerArray and return a number showing how many
        // times the guess appears in the word so remainingLetters
        // can be updated
        var howManyTimes = 0;
        for (var i = 0; i < word.length; i++) {
          if (word[i] === guess) {
            answerArray[i] = guess;
            howManyTimes++;
          }
        }
        return howManyTimes;
      };

      function showAnswerAndCongratulatePlayer(answerArray) {
        // Use alert to show the answer and congratulate the player
        alert(answerArray.join(" "));
  			alert("Good job! The answer was " + word);
      };
    </script>
  </body>
</html>
