<!DOCTYPE html>
<html>
<head>
  <title>Hangman!</title>
</head>
<body>
  <h1>Hangman!</h1>
  <script>
  var pickWord = function(){
    //return a random word
      var words = ["javascript","monkey", "amazing", "pancake"];
      var word = words[Math.floor(Math.random()* words.length)];
      return word;
  };

  var setupAnswerArray = function(word){
    // return the answer answer answer array
    var answerArray = [];
    for(var i = 0; i < word.length; i++){
     answerArray[i] = "_";
   }
   var remainingLetters = word.length;
   return answerArray;
  };

  var showPlayerProgress = function(answerArray){
    //use alert to show the player their progress
      alert(answerArray.join(" "));
  };

  var getGuess = function(){
    //use prompt to get a guess
    var guess = prompt("Guess a letter or click cancel to stop playing.");
    return guess;
  };

  var updateGameState = function(guess, word, answerArray){
    var correctGuess = false;
    var correctGuesses = 0;
  for (var index = 0; index < word.length; index++) {
    if (word[index] === guess && answerArray[index] === "_") {
      answerArray[index] = guess;
      correctGuesses++;
      correctGuess = true;
    } else if (word[index] === guess) {
      alert("You already guessed that letter.");
      correctGuess = true;
    }
  }
  return correctGuesses;
};

  var showAnswerAndCongratulatePlayer = function(answerArray){
    //user alert to congrat player
    alert(answerArray.join(" "));
    alert("Good job! The answer was " + word);
  };

  //creates an array of words
   //

  //Pick a random word

var word = pickWord();
//console.log(word);
var answerArray = setupAnswerArray(word);
var remainingLetters = word.length;

    //the game loop
    while(remainingLetters > 0){
      showPlayerProgress(answerArray);
      var guess = getGuess();
      if(guess === null){
        break;
      } else if(guess.length !== 1){
        alert("Please enter a single letter");
      } else{
        var correctGuesses = updateGameState(guess, word, answerArray);
        remainingLetters -= correctGuesses;
      }
}

showAnswerAndCongratulatePlayer(answerArray);

</script>
</body>
<html>
